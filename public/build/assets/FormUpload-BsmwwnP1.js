import{r as m,j as e,y as h}from"./app-CWUJUw6Z.js";import{e as b}from"./excel-BG5q7fmZ.js";import{B as g}from"./Button-C7lHobKE.js";function w(d){const{onSended:n}=d,[u,o]=m.useState(!1),[r,f]=m.useState("");function x(s){var t;const a=(t=s.target.files)==null?void 0:t[0];a&&f(a.name)}async function p(s){s.preventDefault();const l=s.currentTarget,a=new FormData(l);h.post(route("segmentos.store"),a,{onStart(){o(!0)},onSuccess(t){const i=t.props.segmentos,c=i[i.length-1];console.log(c),n==null||n(c),window.toast.success("Información del segmento generada correctamente")},onError(t){window.toast.error(t[0])},onFinish(){o(!1)}})}return e.jsxs("div",{className:"flex flex-col items-center py-10 text-azul-marino",children:[e.jsx("h1",{className:"font-bold title",children:"Sube tu información"}),e.jsx("p",{className:"m-auto mb-3 text-center max-w-80",children:"Descarga nuestro formato establecido para colocar tu información."}),e.jsxs("a",{href:route("perfiles.downloadTemplate"),className:"mb-4 font-bold btn btn-secondary",children:["Descargar formato",e.jsx("img",{src:b,alt:"icono de excel",width:24})]}),e.jsx("form",{id:"form-create",onSubmit:p,children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("p",{className:"m-auto mb-3 text-center max-w-60",children:"Sube tu archivo para poder generar los segmentos."}),e.jsxs("div",{className:"relative mb-8",children:[e.jsxs("label",{className:"font-bold btn btn-secondary",children:["Subir archivo",e.jsx("input",{id:"file",type:"file",className:"input",name:"input_excel",hidden:!0,onChange:x})]}),e.jsx("span",{className:"absolute left-0 text-xs italic",children:r})]}),e.jsxs("label",{className:"text-center field",children:["Nombre (opcional)",e.jsx("input",{type:"text",name:"nombre",className:"input"})]}),e.jsx(g,{disabled:r=="",isLoading:u,children:"Generar segmento"})]})})]})}export{w as default};
