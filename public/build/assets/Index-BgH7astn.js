import{r as o,j as e,a as x,y as j}from"./app-CWUJUw6Z.js";import{A as u}from"./AuthenticatedLayout-BMEMn8Sj.js";import{A as p,f as g,e as f,v as b,a as v,b as w}from"./formatDate-BDxBUpeF.js";import{e as S}from"./excel-BG5q7fmZ.js";import{M as l}from"./Modal-B7mAgTdv.js";import N from"./FormUpload-BsmwwnP1.js";import C from"./FormView-DNrXOk7O.js";import"./transition-ez4UUgHd.js";import"./Button-C7lHobKE.js";function I(c){const{auth:m,segmentos:r}=c,[i,t]=o.useState(""),[n,a]=o.useState();function h(s){confirm("¿Estás seguro de eliminar este segmento?")&&j.delete(route("segmentos.destroy",{segmento:s}))}return e.jsxs(u,{user:m.user,children:[e.jsx(x,{title:"Sementación"}),e.jsx("h1",{className:"title",children:"Segmentación"}),e.jsx(p,{text:`Nuestro módulo de Generación de segmentos permite diseñar un segmento de clientes de interés en función a variables demográficas e información
interna de los clientes , para ello es necesario subir un listado de Documentos de Identidad (DNI), con un formato prestablecido de un archivo.`}),e.jsx("div",{className:"w-full mb-6 overflow-x-auto bg-white rounded-lg shadow-md",children:e.jsxs("table",{className:"table table-blue",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Segmento"}),e.jsx("th",{children:"Fecha de creación"}),e.jsx("th",{children:"Cantidad de registros"}),e.jsx("th",{children:"Listado de ingreso"}),e.jsx("th",{children:"Filtros"}),e.jsx("th",{children:"Enviar comunicación"}),e.jsx("th",{children:"Acciones"})]})}),e.jsx("tbody",{children:r==null?void 0:r.map(s=>e.jsxs("tr",{children:[e.jsx("td",{children:s.nombre}),e.jsx("td",{children:g(s.created_at)}),e.jsx("td",{children:s.personas.length}),e.jsx("td",{children:e.jsx("a",{href:route("segmentos.download",{segmento:s}),className:"btn btn-sm",children:e.jsx("img",{src:S,alt:"icono de excel",width:24})})}),e.jsx("td",{children:e.jsx("div",{className:"flex flex-wrap gap-1",children:s.filtros.map(d=>e.jsx("span",{className:"badge",children:d.text},d.text))})}),e.jsx("td",{children:e.jsx("button",{children:e.jsx("img",{src:f,alt:"icono de ver",width:24})})}),e.jsx("td",{children:e.jsxs("div",{className:"flex w-20 gap-1",children:[e.jsx("button",{onClick:()=>{t("Preview"),a(s)},children:e.jsx("img",{src:b,alt:"icono de ver",width:24})}),e.jsx("button",{children:e.jsx("img",{src:v,alt:"icono de editar",width:24})}),e.jsx("button",{onClick:()=>h(s),children:e.jsx("img",{src:w,alt:"icono de eliminar",width:24})})]})})]},s.id))})]})}),e.jsx("button",{onClick:()=>t("Form"),className:"m-auto btn btn-primary",children:"Generar nuevo segmento"}),e.jsx(l,{show:i=="Form",onClose:()=>t(""),maxWidth:"xs",children:e.jsx(N,{onSended:s=>{t("Preview"),a(s)}})}),e.jsx(l,{show:i=="Preview",onClose:()=>t(""),maxWidth:"xl",children:n&&e.jsx(C,{segmento:n,onSaved:()=>t("")})})]})}export{I as default};
